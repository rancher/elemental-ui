(("undefined"!==typeof self?self:this)["webpackJsonpelemental_2_0_0"]=("undefined"!==typeof self?self:this)["webpackJsonpelemental_2_0_0"]||[]).push([[7],{"0134":function(e,t,s){"use strict";s("9e48")},2879:function(e,t,s){"use strict";s.d(t,"a",(function(){return r})),s.d(t,"c",(function(){return c})),s.d(t,"b",(function(){return u}));var a=s("bddd"),o=s("e24b");const i={},l={"=":"In","==":"In","!=":"NotIn","<":"Lt",">":"Gt"};function n(e){if(e=e.replace(/\+/g," "),i[e])return i[e];let t;const s=[],a=[];if(t=e.match(/\([^)]+\)/g),t&&t.length)for(const i of t){const t=i.replace(/^\s*\(\s*/,"").replace(/\s*\)\s*$/,"").split(/\s*,\s*/);a.push(t),e=e.replace(i,` @${a.length-1} `)}const o=e.split(/\s*,\s*/).filter(e=>!!e);for(let i of o)i=i.trim(),t=i.match(/^(.*?)\s+((not\s*)?in)\s+@(\d+)*$/i),t?s.push({key:t[1].trim(),operator:"notin"===t[2].toLowerCase().replace(/\s/g,"")?"NotIn":"In",values:a[t[4].trim()]}):(t=i.match(/^([^!=]*)\s*(\!=|=|==|>|<)\s*([^!=]*)$/),t?s.push({key:t[1].trim(),operator:l[t[2]],values:[t[3].trim()]}):i.startsWith("!")?s.push({key:i.substr(1).trim(),operator:"DoesNotExist"}):s.push({key:i.trim(),operator:"Exists"}));return i[e]=s,s}function r(e,t){const s=Object.keys(e||{}),o=t||[];for(const i of s){const t=e[i],s=Object(a["e"])(o,{key:i,operator:"In"});s?Object(a["a"])(s.values,t):o.push({key:i,operator:"In",values:Object(a["g"])(t)?t:[t]})}return o}function c(e){const t={},s=[],o=[],i={};for(const l of e)"In"===l.operator&&(i[l.key]?Object(a["a"])(o,l.key):i[l.key]=!0);for(const a of e)"In"!==a.operator||1!==a.values.length||o.includes(a.key)?s.push(Object.assign({},a)):t[a.key]=a.values[0];return{matchLabels:t,matchExpressions:s}}function d(e,t,s="metadata.labels"){let i=[];if("string"===typeof t)i=n(t);else if(Object(a["g"])(t))i=t;else{if("object"!==typeof t||!t)return!1;i=r(t)}const l=Object(o["h"])(e,s)||{};for(const a of i){const e=l[a.key],t=parseInt(e,10),s="undefined"!==typeof l[a.key];switch(a.operator){case"Exists":if(!s)return!1;break;case"DoesNotExist":if(s)return!1;break;case"In":if(!a.values.length||!a.values.includes(e))return!1;break;case"NotIn":if(a.values.includes(e))return!1;break;case"Lt":if(isNaN(t)||t>=Math.min.apply(null,a.values))return!1;break;case"Gt":if(isNaN(t)||t<=Math.max.apply(null,a.values))return!1;break}}return!0}function u(e,t,s){return e.filter(e=>d(e,t,s))}},"305c":function(e,t,s){"use strict";var a=s("da25"),o=s("8bbf"),i=s("cd6d");t["a"]=Object(o["defineComponent"])({...i["a"],props:{mode:{type:String,default:a["q"]},realMode:{type:String,default:a["q"]},as:{type:String,default:a["y"]},value:{type:Object,required:!0},initialValue:{type:Object,default:null},liveValue:{type:Object,default:null},doneEvent:{type:Boolean,default:!1}}})},"47ab":function(e,t,s){"use strict";var a=function(){var e=this,t=e._self._c;return t("div",{ref:"select",staticClass:"unlabeled-select",class:{disabled:e.disabled&&!e.isView,focused:e.focused,[e.mode]:!0,[e.status]:e.status,taggable:e.$attrs.taggable,taggable:e.$attrs.multiple},on:{focus:e.focusSearch}},[t("v-select",e._g(e._b({ref:"select-input",staticClass:"inline",class:{"select-input-view":"view"===e.mode},attrs:{autoscroll:!0,"append-to-body":e.appendToBody,"calculate-position":e.positionDropdown,disabled:e.isView||e.disabled,"get-option-key":t=>e.getOptionKey(t),"get-option-label":t=>e.getOptionLabel(t),label:e.optionLabel,options:e.options,"close-on-select":e.closeOnSelect,"map-keydown":e.mappedKeys,placeholder:e.placeholder,reduce:t=>e.reduce(t),searchable:e.isSearchable,selectable:e.selectable,value:null!=e.value?e.value:""},on:{"search:blur":e.onBlur,"search:focus":e.onFocus,open:e.resizeHandler,"option:created":t=>e.$emit("createdListItem",t)},scopedSlots:e._u([{key:"option",fn:function(s){return[t("div",{on:{mousedown:t=>e.onClickOption(s,t)}},[e._v(" "+e._s(e.getOptionLabel(s.label))+" ")])]}},e._l(e.$scopedSlots,(function(t,s){return{key:s,fn:function(t){return[e._t(s,null,null,t)]}}}))],null,!0)},"v-select",e.$attrs,!1),e.$listeners)),e.tooltip&&!e.focused?t("LabeledTooltip",{attrs:{hover:e.hoverTooltip,value:e.tooltip,status:e.status}}):e._e(),e.validationMessage?t("LabeledTooltip",{attrs:{hover:e.hoverTooltip,value:e.validationMessage}}):e._e()],1)},o=[],i=s("e24b"),l=s("480e"),n=s("9f16"),r=s("d174"),c=s("e8f0"),d={components:{LabeledTooltip:r["a"]},mixins:[l["a"],n["a"]],props:{appendToBody:{default:!0,type:Boolean},disabled:{default:!1,type:Boolean},getKeyForOption:{default:null,type:Function},mode:{default:"edit",type:String},optionKey:{default:null,type:String},optionLabel:{default:"label",type:String},placement:{default:null,type:String},placeholder:{type:String,default:""},popperOverride:{type:Function,default:null},reduce:{default:e=>e&&"object"===typeof e&&void 0!==e.value?e.value:e,type:Function},tooltip:{type:String,default:null},hoverTooltip:{type:Boolean,default:!0},status:{type:String,default:null},value:{default:null,type:[String,Object,Number,Array,Boolean]},closeOnSelect:{type:Boolean,default:!0}},methods:{getOptionLabel(e){return this.$attrs["get-option-label"]?this.$attrs["get-option-label"](e):Object(i["h"])(e,this.optionLabel)?this.localizedLabel?this.$store.getters["i18n/t"](Object(i["h"])(e,this.optionLabel)):Object(i["h"])(e,this.optionLabel):e},positionDropdown(e,t,{width:s}){if(this.popperOverride)return this.popperOverride(e,t,{width:s});Object(c["a"])(e,t,s,this.placement)},focus(){this.focusSearch()},focusSearch(){this.$nextTick(()=>{var e;const t=null===(e=this.$refs["select-input"])||void 0===e?void 0:e.searchEl;t&&t.focus()})},get:i["h"],onClickOption(e,t){c["b"].call(this,e,t)},selectable(e){return!e||!e.disabled&&"group"!==e.kind&&"divider"!==e.kind&&!e.loading},getOptionKey(e){if(e&&this.optionKey)return Object(i["h"])(e,this.optionKey);if(null!==e&&void 0!==e&&e.optionKey)return Object(i["h"])(e,e.optionKey);const t=this.getOptionLabel(e);return"string"===typeof t||"number"===typeof t?t:Math.random(1e5)},report(e){alert(e)}},computed:{requiredField(){return this.required||this.rules.some(e=>"required"===(null===e||void 0===e?void 0:e.name))},validationMessage(){const e=this.rules.find(e=>"required"===(null===e||void 0===e?void 0:e.name)),t=[],s=null===this||void 0===this?void 0:this.value;if(e&&this.blurred&&!this.focused){const t=e(s);if(t)return t}for(const a of this.rules){const e=a(s);e&&"required"!==a.name&&t.push(e)}return t.length>0&&(this.blurred||this.focused)?t.join(", "):void 0}}},u=d,p=(s("0134"),s("d802")),f=Object(p["a"])(u,a,o,!1,null,"6c2022f0",null);t["a"]=f.exports},"711b":function(e,t,s){"use strict";var a=function(){var e=this,t=e._self._c;return t("div",[e.showRemove&&!e.isView?t("button",{staticClass:"btn role-link remove-expression",attrs:{type:"button"},on:{click:function(t){return e.$emit("remove")}}},[t("i",{staticClass:"icon icon-x"})]):e._e(),e.rules.length?t("div",{staticClass:"match-expression-header",class:{view:e.isView,"match-expression-header-matching":e.matchingSelectorDisplay}},[e.matchingSelectorDisplay?t("label",[e._v(" "+e._s(e.t("workload.scheduling.affinity.matchExpressions.matchType"))+" ")]):e._e(),t("label",[e._v(" "+e._s(e.t("workload.scheduling.affinity.matchExpressions.key"))+" ")]),t("label",[e._v(" "+e._s(e.t("workload.scheduling.affinity.matchExpressions.operator"))+" ")]),t("label",[e._v(" "+e._s(e.t("workload.scheduling.affinity.matchExpressions.value"))+" ")]),t("span")]):e._e(),e._l(e.rules,(function(s,a){return t("div",{key:s.id,staticClass:"match-expression-row",class:{view:e.isView,"mb-10":a!==e.rules.length-1,"match-expression-row-matching":e.matchingSelectorDisplay}},[e.matchingSelectorDisplay?t("div",{attrs:{"data-testid":"input-match-type-field-"+a}},[e.isView?t("div",[e._v(" "+e._s(s.matching)+" ")]):t("LabeledSelect",{attrs:{mode:e.mode,options:e.matchingSelectOptions,"data-testid":"input-match-type-field-control-"+a},on:{selecting:e.update},model:{value:s.matching,callback:function(t){e.$set(s,"matching",t)},expression:"row.matching"}})],1):e._e(),t("div",{attrs:{"data-testid":"input-match-expression-key-"+a}},[e.isView?t("div",[e._v(" "+e._s(s.key)+" ")]):e.hasKeySelectOptions?t("LabeledSelect",{attrs:{mode:e.mode,options:e.keysSelectOptions,"data-testid":"input-match-expression-key-control-select-"+a},model:{value:s.key,callback:function(t){e.$set(s,"key",t)},expression:"row.key"}}):t("input",{directives:[{name:"model",rawName:"v-model",value:s.key,expression:"row.key"}],attrs:{mode:e.mode,"data-testid":"input-match-expression-key-control-"+a},domProps:{value:s.key},on:{input:[function(t){t.target.composing||e.$set(s,"key",t.target.value)},e.update]}})],1),t("div",{attrs:{"data-testid":"input-match-expression-operator-"+a}},[e.isView?t("div",[e._v(" "+e._s(s.operator)+" ")]):t("Select",{staticClass:"operator single",attrs:{options:e.ops,clearable:!1,reduce:e=>e.value,mode:e.mode,"data-testid":"input-match-expression-operator-control-"+a},on:{input:e.update},model:{value:s.operator,callback:function(t){e.$set(s,"operator",t)},expression:"row.operator"}})],1),"Exists"===s.operator||"DoesNotExist"===s.operator?t("div",{staticClass:"no-value"},[t("label",{staticClass:"text-muted"},[e._v("â€¦")])]):t("div",{attrs:{"data-testid":"input-match-expression-values-"+a}},[e.isView?t("div",[e._v(" "+e._s(s.values)+" ")]):t("input",{directives:[{name:"model",rawName:"v-model",value:s.values,expression:"row.values"}],attrs:{mode:e.mode,disabled:"Exists"===s.operator||"DoesNotExist"===s.operator,"data-testid":"input-match-expression-values-control-"+a},domProps:{value:s.values},on:{input:[function(t){t.target.composing||e.$set(s,"values",t.target.value)},e.update]}})]),e.showRemoveButton?t("div",{staticClass:"remove-container"},[e.isView?e._e():t("button",{staticClass:"btn role-link",style:{padding:"0px"},attrs:{type:"button",disabled:"view"===e.mode,"data-testid":"input-match-expression-remove-control-"+a},on:{click:function(t){return e.removeRule(s)}}},[t("t",{attrs:{k:"generic.remove"}})],1)]):e._e()])})),!e.isView&&e.showAddButton?t("div",{staticClass:"mt-20"},[t("button",{staticClass:"btn role-tertiary add",attrs:{type:"button","data-testid":"input-match-expression-add-rule"},on:{click:e.addRule}},[t("t",{attrs:{k:"workload.scheduling.affinity.matchExpressions.addRule"}})],1)]):e._e()],2)},o=[],i=s("907c"),l=s("47ab"),n=s("9ce4"),r=s("bddd"),c=s("e24b"),d=s("2879"),u=s("466b"),p={components:{Select:l["a"],LabeledSelect:u["a"]},props:{value:{type:[Array,Object],default:()=>[]},mode:{type:String,default:"edit"},type:{type:String,default:i["q"]},matchingSelectorDisplay:{type:Boolean,default:!1},initialEmptyRow:{type:Boolean,default:!1},showAddButton:{type:Boolean,default:!0},showRemoveButton:{type:Boolean,default:!0},showRemove:{type:Boolean,default:!0},keysSelectOptions:{type:Array,default:()=>[]}},data(){const e=this.$store.getters["i18n/t"],t=[{label:e("workload.scheduling.affinity.matchExpressions.in"),value:"In"},{label:e("workload.scheduling.affinity.matchExpressions.notIn"),value:"NotIn"},{label:e("workload.scheduling.affinity.matchExpressions.exists"),value:"Exists"},{label:e("workload.scheduling.affinity.matchExpressions.doesNotExist"),value:"DoesNotExist"}],s=[{label:e("workload.scheduling.affinity.matchExpressions.in"),value:"In"},{label:e("workload.scheduling.affinity.matchExpressions.notIn"),value:"NotIn"},{label:e("workload.scheduling.affinity.matchExpressions.exists"),value:"Exists"},{label:e("workload.scheduling.affinity.matchExpressions.doesNotExist"),value:"DoesNotExist"},{label:e("workload.scheduling.affinity.matchExpressions.lessThan"),value:"Lt"},{label:e("workload.scheduling.affinity.matchExpressions.greaterThan"),value:"Gt"}],a=this.type===i["q"]?s:t;let o;if(this.matchingSelectorDisplay){const e={matchFields:[],matchExpressions:[]};["matchFields","matchExpressions"].forEach(t=>{e[t]=this.parseRules(this.value[t],t)}),o=[...e.matchFields,...e.matchExpressions]}else Object(r["g"])(this.value)?(o=[...this.value],o=this.parseRules(o)):(o=Object(d["a"])(this.value.matchLabels,this.value.matchExpressions),o=this.parseRules(o));if(!o.length&&this.initialEmptyRow&&!this.isView){const e={key:"",operator:"In",values:""};this.matchingSelectorDisplay&&(e.matching="matchExpressions"),o.push(e)}return{ops:a,rules:o,custom:[]}},computed:{isView(){return"view"===this.mode},node(){return i["q"]},pod(){return i["s"]},hasKeySelectOptions(){var e;return!(null===(e=this.keysSelectOptions)||void 0===e||!e.length)},matchingSelectOptions(){return[{label:this.t("workload.scheduling.affinity.matchExpressions.label"),value:"matchExpressions"},{label:this.t("workload.scheduling.affinity.matchFields.label"),value:"matchFields"}]},...Object(n["b"])({t:"i18n/t"})},methods:{parseRules(e,t){return null!==e&&void 0!==e&&e.length?e.map(e=>{const s=Object(c["e"])(e);return s.values&&"string"!==typeof s.values&&(s.values=s.values.join(", ")),t&&(s.matching=t),s}):[]},removeRule(e){Object(r["i"])(this.rules,e),this.update()},addRule(){const e={key:"",operator:"In",values:""};this.matchingSelectorDisplay&&(e.matching="matchExpressions"),this.rules.push(e)},update(){this.$nextTick(()=>{const e=this.rules.map(e=>{const t={key:e.key,operator:e.operator};this.matchingSelectorDisplay&&(t.matching=e.matching);let s=(e.values||"").trim();return"Exists"!==e.operator&&"DoesNotExist"!==e.operator||(s=null),null!==s&&(t.values=s.split(/\s*,\s*/)),t}).filter(e=>!!e);Object(r["g"])(this.value)||this.matchingSelectorDisplay?this.$emit("input",e):this.$emit("input",Object(d["c"])(e))})}}},f=p,h=(s("c273"),s("d802")),v=Object(h["a"])(f,a,o,!1,null,"3512fedb",null);t["a"]=v.exports},7877:function(e,t,s){var a=s("5eaa");t=a(!1),t.push([e.i,".operator .vs__dropdown-option[data-v-3512fedb]{padding:3px 6px 3px 6px!important}.remove-expression[data-v-3512fedb]{padding:8px;position:absolute;margin-bottom:10px;right:0;top:0;z-index:2}.remove-expression i[data-v-3512fedb]{font-size:2em}.remove-container[data-v-3512fedb]{display:flex;justify-content:center}.match-expression-header[data-v-3512fedb],.match-expression-row[data-v-3512fedb]{display:grid;grid-template-columns:1fr 1fr 1fr;margin:5px 0;grid-gap:1.75%}.match-expression-header>LABEL[data-v-3512fedb],.match-expression-row>LABEL[data-v-3512fedb]{margin:0}.match-expression-header[data-v-3512fedb]:not(.view),.match-expression-row[data-v-3512fedb]:not(.view){grid-template-columns:repeat(3,1fr) 50px}.match-expression-row>div>input[data-v-3512fedb]{min-height:40px!important}.match-expression-header-matching[data-v-3512fedb],.match-expression-row-matching[data-v-3512fedb]{grid-template-columns:1fr 1fr 1fr 1fr}.match-expression-header-matching[data-v-3512fedb]:not(.view),.match-expression-row-matching[data-v-3512fedb]:not(.view){grid-template-columns:1fr 1fr 1fr 1fr 100px}",""]),e.exports=t},"8e62":function(e,t,s){var a=s("7877");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=s("0ed3").default;o("926fb810",a,!0,{sourceMap:!1,shadowMode:!1})},"9e48":function(e,t,s){var a=s("b4c8");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=s("0ed3").default;o("3b83b3a6",a,!0,{sourceMap:!1,shadowMode:!1})},b4c8:function(e,t,s){var a=s("5eaa");t=a(!1),t.push([e.i,".unlabeled-select[data-v-6c2022f0]{position:relative}.unlabeled-select[data-v-6c2022f0] .v-select.select-input-view .vs__actions{visibility:hidden}.unlabeled-select .vs--multiple[data-v-6c2022f0] .vs__selected-options .vs__selected{width:auto}.unlabeled-select[data-v-6c2022f0] .labeled-tooltip.error .status-icon{top:7px;right:2px}.unlabeled-select[data-v-6c2022f0] .vs__selected-options{display:flex;margin:3px}.unlabeled-select[data-v-6c2022f0] .vs__selected-options .vs__selected{width:auto}.unlabeled-select[data-v-6c2022f0] .v-select.vs--open .vs__dropdown-toggle{color:var(--outline)!important}.unlabeled-select.focused.success[data-v-6c2022f0],.unlabeled-select.success[data-v-6c2022f0]{border:solid 1px var(--success)}.unlabeled-select.focused.success .selected[data-v-6c2022f0],.unlabeled-select.focused.success .vs__actions[data-v-6c2022f0]:after,.unlabeled-select.focused.success input[data-v-6c2022f0],.unlabeled-select.success .selected[data-v-6c2022f0],.unlabeled-select.success .vs__actions[data-v-6c2022f0]:after,.unlabeled-select.success input[data-v-6c2022f0]{color:var(--success)}.unlabeled-select.focused.warning[data-v-6c2022f0],.unlabeled-select.warning[data-v-6c2022f0]{border:solid 1px var(--warning)}.unlabeled-select.focused.warning .selected[data-v-6c2022f0],.unlabeled-select.focused.warning .vs__actions[data-v-6c2022f0]:after,.unlabeled-select.focused.warning input[data-v-6c2022f0],.unlabeled-select.warning .selected[data-v-6c2022f0],.unlabeled-select.warning .vs__actions[data-v-6c2022f0]:after,.unlabeled-select.warning input[data-v-6c2022f0]{color:var(--warning)}.unlabeled-select.error[data-v-6c2022f0],.unlabeled-select.focused.error[data-v-6c2022f0]{border:solid 1px var(--error)}.unlabeled-select.error .vs__actions[data-v-6c2022f0]:after,.unlabeled-select.error>label[data-v-6c2022f0],.unlabeled-select.focused.error .vs__actions[data-v-6c2022f0]:after,.unlabeled-select.focused.error>label[data-v-6c2022f0]{color:var(--error)}",""]),e.exports=t},c273:function(e,t,s){"use strict";s("8e62")}}]);
//# sourceMappingURL=elemental-2.0.0.umd.min.vendors~machine-config.js.map