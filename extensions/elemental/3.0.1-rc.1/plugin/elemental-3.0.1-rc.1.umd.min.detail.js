(("undefined"!==typeof self?self:this)["webpackChunkelemental_3_0_1_rc_1"]=("undefined"!==typeof self?self:this)["webpackChunkelemental_3_0_1_rc_1"]||[]).push([[332],{72869:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return k}});var a=o(9274);const n={class:"row mt-40 mb-40"},r={class:"col span-8"},l={class:"row mb-40 mt-30"},i={class:"col span-12"},s={class:"row mb-20"},d={class:"col span-6"};function c(e,t,o,c,u,m){const p=(0,a.resolveComponent)("Loading"),v=(0,a.resolveComponent)("DetailText"),h=(0,a.resolveComponent)("BuildMedia"),g=(0,a.resolveComponent)("AsyncButton"),f=(0,a.resolveComponent)("YamlEditor"),y=(0,a.resolveComponent)("CruResource"),C=(0,a.resolveDirective)("clean-html");return o.value?((0,a.openBlock)(),(0,a.createBlock)(y,{key:1,"done-route":e.doneRoute,"can-yaml":!0,mode:o.mode,resource:o.value,errors:e.errors,onError:t[1]||(t[1]=t=>e.errors=t),onFinish:e.save,onCancel:e.done},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",n,[(0,a.createElementVNode)("div",r,[(0,a.createElementVNode)("h3",null,(0,a.toDisplayString)(e.t("elemental.machineRegistration.create.registrationURL.title")),1),(0,a.withDirectives)((0,a.createVNode)(v,{"data-testid":"registration-url",value:m.registrationUrl,label:e.t("elemental.machineRegistration.create.registrationURL.label")},null,8,["value","label"]),[[a.vShow,m.registrationUrl]])])]),(0,a.createElementVNode)("div",null,[(0,a.createVNode)(h,{"display-reg-endpoints":!1,"registration-endpoint":`${o.value.metadata.namespace}/${o.value.metadata.name}`,resource:o.value.type,mode:o.mode},null,8,["registration-endpoint","resource","mode"])]),(0,a.createElementVNode)("div",l,[(0,a.createElementVNode)("div",i,[(0,a.createElementVNode)("h3",null,(0,a.toDisplayString)(e.t("elemental.machineRegistration.edit.imageSetup")),1),(0,a.withDirectives)((0,a.createElementVNode)("p",null,null,512),[[C,e.t("elemental.machineRegistration.edit.downloadMachineRegistrationFile",{},!0)]]),(0,a.createVNode)(g,{class:"mt-10",mode:"downloadMachineReg","data-testid":"download-btn",onClick:m.download},null,8,["onClick"])])]),(0,a.createElementVNode)("div",s,[(0,a.createElementVNode)("div",d,[(0,a.createElementVNode)("h3",null,(0,a.toDisplayString)(e.t("elemental.machineRegistration.create.cloudConfiguration")),1),(0,a.createVNode)(f,{ref:"yamleditor",value:u.cloudConfig,"onUpdate:value":t[0]||(t[0]=e=>u.cloudConfig=e),class:"mb-20","editor-mode":m.editorMode},null,8,["value","editor-mode"])])])])),_:1},8,["done-route","mode","resource","errors","onFinish","onCancel"])):((0,a.openBlock)(),(0,a.createBlock)(p,{key:0}))}var u=o(84409),m=o(98479),p=o(91825),v=o(5616),h=o(85817),g=o(72863),f=o(20246),y=o.n(f),C=o(52946),w=o(14220),E=o(99726),V=o(75352),_={name:"MachineRegistrationDetailView",components:{Loading:u.A,CruResource:m.A,YamlEditor:v.A,DetailText:h.A,AsyncButton:g.A,BuildMedia:V.A},mixins:[p.A],props:{value:{type:Object,required:!0},mode:{type:String,required:!0}},data(){return{cloudConfig:"string"===typeof this.value.spec?this.value.spec:(0,C.Kq)(this.value.spec),yamlErrors:null}},watch:{cloudConfig:{handler(e){try{const t=y().load(e);this.value.spec=t,this.yamlErrors=null}catch(t){this.yamlErrors=(0,E.rz)(t)}},immediate:!0}},computed:{registrationUrl(){return this.value?.status?.registrationURL||""},isCreate(){return this.mode===w.YQ},isView(){return this.mode!==w.YQ&&this.mode!==w.G5},editorMode(){return this.isView?v.j.VIEW_CODE:v.j.EDIT_CODE}},methods:{async download(e){try{await this.value.downloadMachineRegistration(),e(!0)}catch(E){e(!1)}}}},N=(o(26907),o(47433));const R=(0,N.A)(_,[["render",c],["__scopeId","data-v-dc423ff8"]]);var k=R},79963:function(e,t,o){"use strict";o.r(t);var a=o(36758),n=o.n(a),r=o(40935),l=o.n(r),i=l()(n());i.push([e.id,".flex[data-v-dc423ff8]{display:flex}",""]),t["default"]=i},26907:function(e,t,o){var a=o(79963);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var n=o(74825).A;n("412caf98",a,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=elemental-3.0.1-rc.1.umd.min.detail.js.map