{"version":3,"sources":["webpack://elemental-1.2.0//home/runner/work/elemental-ui/elemental-ui/node_modules/@rancher/shell/components/form/Select.vue?687b","webpack://elemental-1.2.0//home/runner/work/elemental-ui/elemental-ui/node_modules/@rancher/shell/utils/selector.js","webpack://elemental-1.2.0//home/runner/work/elemental-ui/elemental-ui/node_modules/@rancher/shell/mixins/create-edit-view/index.js","webpack://elemental-1.2.0//home/runner/work/elemental-ui/elemental-ui/node_modules/@rancher/shell/components/form/Select.vue?b860","webpack://elemental-1.2.0//home/runner/work/elemental-ui/elemental-ui/node_modules/@rancher/shell/components/form/MatchExpressions.vue?584a","webpack://elemental-1.2.0//home/runner/work/elemental-ui/elemental-ui/node_modules/@rancher/shell/components/form/Select.vue","webpack://elemental-1.2.0/../../node_modules/@rancher/shell/components/form/Select.vue","webpack://elemental-1.2.0//home/runner/work/elemental-ui/elemental-ui/node_modules/@rancher/shell/components/form/Select.vue?fabc","webpack://elemental-1.2.0//home/runner/work/elemental-ui/elemental-ui/node_modules/@rancher/shell/components/form/Select.vue?546f","webpack://elemental-1.2.0//home/runner/work/elemental-ui/elemental-ui/node_modules/@rancher/shell/components/form/MatchExpressions.vue?a2f9","webpack://elemental-1.2.0//home/runner/work/elemental-ui/elemental-ui/node_modules/@rancher/shell/components/form/MatchExpressions.vue","webpack://elemental-1.2.0/../../node_modules/@rancher/shell/components/form/MatchExpressions.vue","webpack://elemental-1.2.0//home/runner/work/elemental-ui/elemental-ui/node_modules/@rancher/shell/components/form/MatchExpressions.vue?4524","webpack://elemental-1.2.0//home/runner/work/elemental-ui/elemental-ui/node_modules/@rancher/shell/components/form/MatchExpressions.vue?f3eb","webpack://elemental-1.2.0//home/runner/work/elemental-ui/elemental-ui/node_modules/@rancher/shell/components/form/Select.vue?ac78","webpack://elemental-1.2.0//home/runner/work/elemental-ui/elemental-ui/node_modules/@rancher/shell/components/form/MatchExpressions.vue?fe7d"],"names":["content","__esModule","default","module","i","locals","exports","add","parseCache","OP_MAP","parse","labelSelector","replace","match","out","parens","length","str","val","split","push","parts","filter","x","rule","trim","key","operator","toLowerCase","values","startsWith","substr","convert","matchLabelsObj","matchExpressions","keys","Object","value","existing","findBy","addObject","simplify","matchExpressionsInput","matchLabels","impossible","seen","expr","includes","assign","matches","obj","selector","rules","isArray","labels","metadata","asInt","parseInt","exists","isNaN","Math","min","apply","max","matching","ary","Vue","extend","impl","props","mode","type","String","_EDIT","realMode","as","_YAML","required","initialValue","liveValue","doneEvent","Boolean","___CSS_LOADER_API_IMPORT___","render","_vm","this","_c","_self","ref","staticClass","class","disabled","isView","focused","status","taggable","$attrs","multiple","on","focusSearch","_g","_b","attrs","appendToBody","positionDropdown","opt","getOptionKey","getOptionLabel","optionLabel","options","closeOnSelect","mappedKeys","placeholder","reduce","isSearchable","selectable","onBlur","onFocus","resizeHandler","e","$emit","scopedSlots","_u","fn","option","onClickOption","_v","_s","label","_l","$scopedSlots","_","slot","scope","_t","$listeners","tooltip","hoverTooltip","_e","validationMessage","staticRenderFns","components","LabeledTooltip","mixins","getKeyForOption","optionKey","placement","popperOverride","methods","width","calculatePosition","focus","el","get","report","alert","computed","requiredField","ruleMessages","showRemove","$event","t","row","index","id","hasKeySelectOptions","keysSelectOptions","model","callback","$$v","$set","expression","directives","name","rawName","domProps","target","composing","update","ops","showRemoveButton","style","padding","removeRule","showAddButton","addRule","Select","LabeledSelect","initialEmptyRow","data","newRule","custom","node","pod","removeObject","matchExpression","component"],"mappings":"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","file":"elemental-1.2.0.umd.min.vendors~machine-config.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../cache-loader/dist/cjs.js??ref--2-0!../../../../@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Select.vue?vue&type=style&index=0&id=172cf618&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"d1039a00\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","import { isArray, addObject, findBy } from '@shell/utils/array';\n\nconst parseCache = {};\n\nconst OP_MAP = {\n  '=':  'In',\n  '==': 'In',\n  '!=': 'NotIn',\n  '<':  'Lt',\n  '>':  'Gt',\n};\n\n// Parse a labelSelector string\nexport function parse(labelSelector) {\n  // matchLabels:\n  // comma-separated list, all rules ANDed together\n  // spaces may be encoded as +\n  //\n  // Equals:      foo = bar\n  // Not Equals:  bar != baz\n  // Key Exists:  optional.prefix/just-some-key\n  // Key Doesn't: !optional.prefix/just-some-key\n  // In Set:      environment in (production,qa)\n  // Not in Set:  environment notin (production,qa)\n\n  // Convert into matchExpressions, which newer resources support\n  // and express the same things\n  //\n  // Object of:\n  // key: optional.prefix/some-key\n  // operator: In, NotIn, Exists, or DoesNotExist\n  // values:  [array, of, values, even, if, only, one]\n\n  labelSelector = labelSelector.replace(/\\+/g, ' ');\n\n  if ( parseCache[labelSelector] ) {\n    return parseCache[labelSelector];\n  }\n\n  let match;\n  const out = [];\n  const parens = [];\n\n  // Substitute out all the parenthetical lists because they might have commas in them\n  match = labelSelector.match(/\\([^)]+\\)/g);\n  if ( match && match.length ) {\n    for ( const str of match ) {\n      const val = str.replace(/^\\s*\\(\\s*/, '').replace(/\\s*\\)\\s*$/, '').split(/\\s*,\\s*/);\n\n      parens.push(val);\n      labelSelector = labelSelector.replace(str, ` @${ parens.length - 1 } `);\n    }\n  }\n\n  const parts = labelSelector.split(/\\s*,\\s*/).filter(x => !!x);\n\n  for ( let rule of parts ) {\n    rule = rule.trim();\n\n    match = rule.match(/^(.*?)\\s+((not\\s*)?in)\\s+@(\\d+)*$/i);\n\n    if ( match ) {\n      out.push({\n        key:      match[1].trim(),\n        operator: match[2].toLowerCase().replace(/\\s/g, '') === 'notin' ? 'NotIn' : 'In',\n        values:   parens[match[4].trim()],\n      });\n\n      continue;\n    }\n\n    match = rule.match(/^([^!=]*)\\s*(\\!=|=|==|>|<)\\s*([^!=]*)$/);\n    if ( match ) {\n      out.push({\n        key:      match[1].trim(),\n        operator: OP_MAP[match[2]],\n        values:   [match[3].trim()],\n      });\n\n      continue;\n    }\n\n    if ( rule.startsWith('!') ) {\n      out.push({\n        key:      rule.substr(1).trim(),\n        operator: 'DoesNotExist'\n      });\n\n      continue;\n    }\n\n    out.push({\n      key:      rule.trim(),\n      operator: 'Exists'\n    });\n  }\n\n  parseCache[labelSelector] = out;\n\n  return out;\n}\n\n// Convert a Selector object to matchExpressions\nexport function convertSelectorObj(obj) {\n  return convert(obj.matchLabels || {}, obj.matchExpressions || []);\n}\n\n// Convert matchLabels to matchExpressions\n// Optionally combining with an existing set of matchExpressions\nexport function convert(matchLabelsObj, matchExpressions) {\n  const keys = Object.keys(matchLabelsObj || {});\n  const out = matchExpressions || [];\n\n  for ( const key of keys ) {\n    const value = matchLabelsObj[key];\n    const existing = findBy(out, { key, operator: 'In' });\n\n    if ( existing ) {\n      addObject(existing.values, value);\n    } else {\n      out.push({\n        key,\n        operator: 'In',\n        values:   [value],\n      });\n    }\n  }\n\n  return out;\n}\n\n// Convert matchExpressions to matchLabels when possible,\n// returning the simplest combination of them.\nexport function simplify(matchExpressionsInput) {\n  const matchLabels = {};\n  const matchExpressions = [];\n\n  // Look for keys with more than one \"In\" expression and disqualify them from simplifying\n  const impossible = [];\n  const seen = {};\n\n  for ( const expr of matchExpressionsInput ) {\n    if ( expr.operator !== 'In' ) {\n      continue;\n    }\n\n    if ( seen[expr.key] ) {\n      addObject(impossible, expr.key);\n    } else {\n      seen[expr.key] = true;\n    }\n  }\n\n  for ( const expr of matchExpressionsInput ) {\n    if ( expr.operator === 'In' && expr.values.length === 1 && !impossible.includes(expr.key) ) {\n      matchLabels[expr.key] = expr.values[0];\n    } else {\n      matchExpressions.push(Object.assign({}, expr));\n    }\n  }\n\n  return { matchLabels, matchExpressions };\n}\n\nexport function matches(obj, selector) {\n  let rules = [];\n\n  if ( typeof selector === 'string' ) {\n    // labelSelector string\n    rules = parse(selector);\n  } else if ( isArray(selector) ) {\n    // Already matchExpression\n    rules = selector;\n  } else if ( typeof selector === 'object' && selector ) {\n    // matchLabels object\n    rules = convert(selector);\n  } else {\n    return false;\n  }\n\n  const labels = obj?.metadata?.labels || {};\n\n  for ( const rule of rules ) {\n    const value = labels[rule.key];\n    const asInt = parseInt(value, 10);\n    const exists = typeof labels[rule.key] !== 'undefined';\n\n    switch ( rule.operator ) {\n    case 'Exists':\n      if ( !exists ) {\n        return false;\n      }\n      break;\n    case 'DoesNotExist':\n      if ( exists ) {\n        return false;\n      }\n      break;\n    case 'In':\n      if ( !value || !rule.values.length || !rule.values.includes(value) ) {\n        return false;\n      }\n      break;\n    case 'NotIn':\n      if ( rule.values.includes(value) ) {\n        return false;\n      }\n      break;\n    case 'Lt':\n      if ( isNaN(asInt) || asInt >= Math.min.apply(null, rule.values) ) {\n        return false;\n      }\n      break;\n    case 'Gt':\n      if ( isNaN(asInt) || asInt <= Math.max.apply(null, rule.values) ) {\n        return false;\n      }\n      break;\n    }\n  }\n\n  return true;\n}\n\nexport function matching(ary, selector) {\n  return ary.filter(obj => matches(obj, selector));\n}\n","import { _EDIT, _YAML } from '@shell/config/query-params';\nimport Vue from 'vue';\n\nimport impl from './impl';\n\nexport default Vue.extend({\n  ...impl,\n\n  props: {\n    mode: {\n      type:    String,\n      default: _EDIT,\n    },\n\n    realMode: {\n      type:    String,\n      default: _EDIT,\n    },\n\n    as: {\n      type:    String,\n      default: _YAML,\n    },\n\n    // The model to be manipulated by the form\n    value: {\n      type:     Object,\n      required: true,\n    },\n\n    // A clone of the model before it's been changed, for conflict resolution\n    initialValue: {\n      type:    Object,\n      default: null,\n    },\n\n    // The 'live' equivalent of this model in the store\n    liveValue: {\n      type:    Object,\n      default: null,\n    },\n\n    doneEvent: {\n      type:    Boolean,\n      default: false,\n    },\n  },\n});\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".unlabeled-select[data-v-172cf618]{position:relative}.unlabeled-select[data-v-172cf618] .v-select.select-input-view .vs__actions{visibility:hidden}.unlabeled-select .vs--multiple[data-v-172cf618] .vs__selected-options .vs__selected{width:auto}.unlabeled-select[data-v-172cf618] .labeled-tooltip.error .status-icon{top:7px;right:2px}.unlabeled-select[data-v-172cf618] .vs__selected-options{display:flex;margin:3px}.unlabeled-select[data-v-172cf618] .vs__selected-options .vs__selected{width:auto}.unlabeled-select[data-v-172cf618] .v-select.vs--open .vs__dropdown-toggle{color:var(--outline)!important}.unlabeled-select.focused.success[data-v-172cf618],.unlabeled-select.success[data-v-172cf618]{border:solid 1px var(--success)}.unlabeled-select.focused.success .selected[data-v-172cf618],.unlabeled-select.focused.success .vs__actions[data-v-172cf618]:after,.unlabeled-select.focused.success input[data-v-172cf618],.unlabeled-select.success .selected[data-v-172cf618],.unlabeled-select.success .vs__actions[data-v-172cf618]:after,.unlabeled-select.success input[data-v-172cf618]{color:var(--success)}.unlabeled-select.focused.warning[data-v-172cf618],.unlabeled-select.warning[data-v-172cf618]{border:solid 1px var(--warning)}.unlabeled-select.focused.warning .selected[data-v-172cf618],.unlabeled-select.focused.warning .vs__actions[data-v-172cf618]:after,.unlabeled-select.focused.warning input[data-v-172cf618],.unlabeled-select.warning .selected[data-v-172cf618],.unlabeled-select.warning .vs__actions[data-v-172cf618]:after,.unlabeled-select.warning input[data-v-172cf618]{color:var(--warning)}.unlabeled-select.error[data-v-172cf618],.unlabeled-select.focused.error[data-v-172cf618]{border:solid 1px var(--error)}.unlabeled-select.error .vs__actions[data-v-172cf618]:after,.unlabeled-select.error>label[data-v-172cf618],.unlabeled-select.focused.error .vs__actions[data-v-172cf618]:after,.unlabeled-select.focused.error>label[data-v-172cf618]{color:var(--error)}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".operator .vs__dropdown-option[data-v-271bf5ac]{padding:3px 6px 3px 6px!important}.remove-expression[data-v-271bf5ac]{padding:8px;position:absolute;margin-bottom:10px;right:0;top:0;z-index:2}.remove-expression i[data-v-271bf5ac]{font-size:2em}.remove-container[data-v-271bf5ac]{display:flex;justify-content:center}.match-expression-header[data-v-271bf5ac],.match-expression-row[data-v-271bf5ac]{display:grid;grid-template-columns:1fr 1fr 1fr;margin:5px 0;grid-gap:1.75%}.match-expression-header>LABEL[data-v-271bf5ac],.match-expression-row>LABEL[data-v-271bf5ac]{margin:0}.match-expression-header[data-v-271bf5ac]:not(.view),.match-expression-row[data-v-271bf5ac]:not(.view){grid-template-columns:repeat(3,1fr) 50px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"select\",staticClass:\"unlabeled-select\",class:{\n    disabled: _vm.disabled && !_vm.isView,\n    focused: _vm.focused,\n    [_vm.mode]: true,\n    [_vm.status]: _vm.status,\n    taggable: _vm.$attrs.taggable,\n    taggable: _vm.$attrs.multiple,\n  },on:{\"focus\":_vm.focusSearch}},[_c('v-select',_vm._g(_vm._b({ref:\"select-input\",staticClass:\"inline\",class:{'select-input-view': _vm.mode === 'view'},attrs:{\"autoscroll\":true,\"append-to-body\":_vm.appendToBody,\"calculate-position\":_vm.positionDropdown,\"disabled\":_vm.isView || _vm.disabled,\"get-option-key\":(opt) => _vm.getOptionKey(opt),\"get-option-label\":(opt) => _vm.getOptionLabel(opt),\"label\":_vm.optionLabel,\"options\":_vm.options,\"close-on-select\":_vm.closeOnSelect,\"map-keydown\":_vm.mappedKeys,\"placeholder\":_vm.placeholder,\"reduce\":(x) => _vm.reduce(x),\"searchable\":_vm.isSearchable,\"selectable\":_vm.selectable,\"value\":_vm.value != null ? _vm.value : ''},on:{\"search:blur\":_vm.onBlur,\"search:focus\":_vm.onFocus,\"open\":_vm.resizeHandler,\"option:created\":(e) => _vm.$emit('createdListItem', e)},scopedSlots:_vm._u([{key:\"option\",fn:function(option){return [_c('div',{on:{\"mousedown\":(e) => _vm.onClickOption(option, e)}},[_vm._v(\" \"+_vm._s(option.label)+\" \")])]}},_vm._l((_vm.$scopedSlots),function(_,slot){return {key:slot,fn:function(scope){return [_vm._t(slot,null,null,scope)]}}})],null,true)},'v-select',_vm.$attrs,false),_vm.$listeners)),(_vm.tooltip && !_vm.focused)?_c('LabeledTooltip',{attrs:{\"hover\":_vm.hoverTooltip,\"value\":_vm.tooltip,\"status\":_vm.status}}):_vm._e(),(!!_vm.validationMessage)?_c('LabeledTooltip',{attrs:{\"hover\":_vm.hoverTooltip,\"value\":_vm.validationMessage}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { get } from '@shell/utils/object';\nimport LabeledFormElement from '@shell/mixins/labeled-form-element';\nimport VueSelectOverrides from '@shell/mixins/vue-select-overrides';\nimport { LabeledTooltip } from '@components/LabeledTooltip';\nimport { onClickOption, calculatePosition } from '@shell/utils/select';\n\nexport default {\n  components: { LabeledTooltip },\n  mixins:     [LabeledFormElement, VueSelectOverrides],\n  props:      {\n    appendToBody: {\n      default: true,\n      type:    Boolean,\n    },\n    disabled: {\n      default: false,\n      type:    Boolean,\n    },\n    getKeyForOption: {\n      default: null,\n      type:    Function\n    },\n    mode: {\n      default: 'edit',\n      type:    String,\n    },\n    optionKey: {\n      default: null,\n      type:    String,\n    },\n    optionLabel: {\n      default: 'label',\n      type:    String,\n    },\n    placement: {\n      default: null,\n      type:    String,\n    },\n    placeholder: {\n      type:    String,\n      default: '',\n    },\n    popperOverride: {\n      type:    Function,\n      default: null,\n    },\n    reduce: {\n      default: (e) => {\n        if (e && typeof e === 'object' && e.value !== undefined) {\n          return e.value;\n        }\n\n        return e;\n      },\n      type: Function,\n    },\n    tooltip: {\n      type:    String,\n      default: null,\n    },\n\n    hoverTooltip: {\n      type:    Boolean,\n      default: true,\n    },\n\n    status: {\n      type:    String,\n      default: null,\n    },\n    value: {\n      default: null,\n      type:    [String, Object, Number, Array, Boolean],\n    },\n    closeOnSelect: {\n      type:    Boolean,\n      default: true\n    },\n  },\n\n  methods: {\n    // resizeHandler = in mixin\n    getOptionLabel(option) {\n      if (this.$attrs['get-option-label']) {\n        return this.$attrs['get-option-label'](option);\n      }\n      if (get(option, this.optionLabel)) {\n        if (this.localizedLabel) {\n          return this.$store.getters['i18n/t'](get(option, this.optionLabel));\n        } else {\n          return get(option, this.optionLabel);\n        }\n      } else {\n        return option;\n      }\n    },\n\n    positionDropdown(dropdownList, component, { width }) {\n      if (this.popperOverride) {\n        return this.popperOverride(dropdownList, component, { width });\n      }\n\n      calculatePosition(dropdownList, component, width, this.placement);\n    },\n\n    focus() {\n      this.focusSearch();\n    },\n\n    focusSearch() {\n      this.$nextTick(() => {\n        const el = this.$refs['select-input']?.searchEl;\n\n        if ( el ) {\n          el.focus();\n        }\n      });\n    },\n\n    get,\n\n    onClickOption(option, event) {\n      onClickOption.call(this, option, event);\n    },\n    selectable(opt) {\n      // Lets you disable options that are used\n      // for headings on groups of options.\n      if ( opt ) {\n        if ( opt.disabled || opt.kind === 'group' || opt.kind === 'divider' || opt.loading ) {\n          return false;\n        }\n      }\n\n      return true;\n    },\n    getOptionKey(opt) {\n      if (opt?.optionKey) {\n        return get(opt, opt.optionKey);\n      }\n\n      const label = this.getOptionLabel(opt);\n\n      // label may be type of object\n      if (typeof label === 'string' || typeof label === 'number') {\n        return label;\n      } else {\n        return Math.random(100000);\n      }\n    },\n    report(e) {\n      alert(e);\n    }\n  },\n  computed: {\n    requiredField() {\n      // using \"any\" for a type on \"rule\" here is dirty but the use of the optional chaining operator makes it safe for what we're doing here.\n      return (this.required || this.rules.some(rule => rule?.name === 'required'));\n    },\n    validationMessage() {\n      // we want to grab the required rule passed in if we can but if it's not there then we can just grab it from the formRulesGenerator\n      const requiredRule = this.rules.find(rule => rule?.name === 'required');\n      const ruleMessages = [];\n      const value = this?.value;\n\n      if (requiredRule && this.blurred && !this.focused) {\n        const message = requiredRule(value);\n\n        if (!!message) {\n          return message;\n        }\n      }\n\n      for (const rule of this.rules) {\n        const message = rule(value);\n\n        if (!!message && rule.name !== 'required') { // we're catching 'required' above so we can ignore it here\n          ruleMessages.push(message);\n        }\n      }\n      if (ruleMessages.length > 0 && (this.blurred || this.focused)) {\n        return ruleMessages.join(', ');\n      } else {\n        return undefined;\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <div\n    ref=\"select\"\n    class=\"unlabeled-select\"\n    :class=\"{\n      disabled: disabled && !isView,\n      focused,\n      [mode]: true,\n      [status]: status,\n      taggable: $attrs.taggable,\n      taggable: $attrs.multiple,\n    }\"\n    @focus=\"focusSearch\"\n  >\n    <v-select\n      ref=\"select-input\"\n      v-bind=\"$attrs\"\n      class=\"inline\"\n      :class=\"{'select-input-view': mode === 'view'}\"\n      :autoscroll=\"true\"\n      :append-to-body=\"appendToBody\"\n      :calculate-position=\"positionDropdown\"\n      :disabled=\"isView || disabled\"\n      :get-option-key=\"(opt) => getOptionKey(opt)\"\n      :get-option-label=\"(opt) => getOptionLabel(opt)\"\n      :label=\"optionLabel\"\n      :options=\"options\"\n      :close-on-select=\"closeOnSelect\"\n      :map-keydown=\"mappedKeys\"\n      :placeholder=\"placeholder\"\n      :reduce=\"(x) => reduce(x)\"\n      :searchable=\"isSearchable\"\n      :selectable=\"selectable\"\n      :value=\"value != null ? value : ''\"\n      v-on=\"$listeners\"\n      @search:blur=\"onBlur\"\n      @search:focus=\"onFocus\"\n      @open=\"resizeHandler\"\n      @option:created=\"(e) => $emit('createdListItem', e)\"\n    >\n      <template #option=\"option\">\n        <div @mousedown=\"(e) => onClickOption(option, e)\">\n          {{ option.label }}\n        </div>\n      </template>\n      <!-- Pass down templates provided by the caller -->\n      <template\n        v-for=\"(_, slot) of $scopedSlots\"\n        v-slot:[slot]=\"scope\"\n      >\n        <slot\n          :name=\"slot\"\n          v-bind=\"scope\"\n        />\n      </template>\n    </v-select>\n    <LabeledTooltip\n      v-if=\"tooltip && !focused\"\n      :hover=\"hoverTooltip\"\n      :value=\"tooltip\"\n      :status=\"status\"\n    />\n    <LabeledTooltip\n      v-if=\"!!validationMessage\"\n      :hover=\"hoverTooltip\"\n      :value=\"validationMessage\"\n    />\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  .unlabeled-select {\n    position: relative;\n\n    ::v-deep .v-select.select-input-view {\n      .vs__actions {\n        visibility: hidden;\n      }\n    }\n\n    & .vs--multiple ::v-deep .vs__selected-options .vs__selected {\n      width: auto;\n    }\n\n    ::v-deep .labeled-tooltip.error .status-icon {\n      top: 7px;\n      right: 2px;\n    }\n\n    ::v-deep .vs__selected-options {\n      display: flex;\n      margin: 3px;\n\n      .vs__selected {\n          width: initial;\n      }\n    }\n\n    ::v-deep .v-select.vs--open {\n      .vs__dropdown-toggle {\n        color: var(--outline) !important;\n      }\n    }\n\n    ::v-deep .v-select.vs--open {\n      .vs__dropdown-toggle {\n        color: var(--outline) !important;\n      }\n    }\n\n    @include input-status-color;\n  }\n</style>\n","import mod from \"-!../../../../cache-loader/dist/cjs.js??ref--14-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--2-0!../../../../@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Select.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../cache-loader/dist/cjs.js??ref--14-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--2-0!../../../../@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Select.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Select.vue?vue&type=template&id=172cf618&scoped=true&\"\nimport script from \"./Select.vue?vue&type=script&lang=js&\"\nexport * from \"./Select.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Select.vue?vue&type=style&index=0&id=172cf618&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"172cf618\",\n  null\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../cache-loader/dist/cjs.js??ref--2-0!../../../../@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MatchExpressions.vue?vue&type=style&index=0&id=271bf5ac&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"40a25bdb\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.showRemove && !_vm.isView)?_c('button',{staticClass:\"btn role-link remove-expression\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('remove')}}},[_c('i',{staticClass:\"icon icon-x\"})]):_vm._e(),(_vm.rules.length)?_c('div',{staticClass:\"match-expression-header\",class:{'view':_vm.isView}},[_c('label',[_vm._v(\" \"+_vm._s(_vm.t('workload.scheduling.affinity.matchExpressions.key'))+\" \")]),_c('label',[_vm._v(\" \"+_vm._s(_vm.t('workload.scheduling.affinity.matchExpressions.operator'))+\" \")]),_c('label',[_vm._v(\" \"+_vm._s(_vm.t('workload.scheduling.affinity.matchExpressions.value'))+\" \")]),_c('span')]):_vm._e(),_vm._l((_vm.rules),function(row,index){return _c('div',{key:row.id,staticClass:\"match-expression-row\",class:{'view':_vm.isView, 'mb-10': index !== _vm.rules.length - 1}},[_c('div',{attrs:{\"data-testid\":`input-match-expression-key-${index}`}},[(_vm.isView)?_c('div',[_vm._v(\" \"+_vm._s(row.key)+\" \")]):(!_vm.hasKeySelectOptions)?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(row.key),expression:\"row.key\"}],attrs:{\"mode\":_vm.mode},domProps:{\"value\":(row.key)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.$set(row, \"key\", $event.target.value)},_vm.update]}}):_c('LabeledSelect',{attrs:{\"mode\":_vm.mode,\"options\":_vm.keysSelectOptions},model:{value:(row.key),callback:function ($$v) {_vm.$set(row, \"key\", $$v)},expression:\"row.key\"}})],1),_c('div',{attrs:{\"data-testid\":`input-match-expression-operator-${index}`}},[(_vm.isView)?_c('div',[_vm._v(\" \"+_vm._s(row.operator)+\" \")]):_c('Select',{staticClass:\"operator single\",attrs:{\"options\":_vm.ops,\"clearable\":false,\"reduce\":opt=>opt.value,\"mode\":_vm.mode},on:{\"input\":_vm.update},model:{value:(row.operator),callback:function ($$v) {_vm.$set(row, \"operator\", $$v)},expression:\"row.operator\"}})],1),(row.operator==='Exists' || row.operator==='DoesNotExist')?_c('div',{staticClass:\"no-value\"},[_c('label',{staticClass:\"text-muted\"},[_vm._v(\"â€¦\")])]):_c('div',{attrs:{\"data-testid\":`input-match-expression-values-${index}`}},[(_vm.isView)?_c('div',[_vm._v(\" \"+_vm._s(row.values)+\" \")]):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(row.values),expression:\"row.values\"}],attrs:{\"mode\":_vm.mode,\"disabled\":row.operator==='Exists' || row.operator==='DoesNotExist'},domProps:{\"value\":(row.values)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.$set(row, \"values\", $event.target.value)},_vm.update]}})]),(_vm.showRemoveButton)?_c('div',{staticClass:\"remove-container\"},[(!_vm.isView)?_c('button',{staticClass:\"btn role-link\",style:({padding:'0px'}),attrs:{\"type\":\"button\",\"disabled\":_vm.mode==='view'},on:{\"click\":function($event){return _vm.removeRule(row)}}},[_c('t',{attrs:{\"k\":\"generic.remove\"}})],1):_vm._e()]):_vm._e()])}),(!_vm.isView && _vm.showAddButton)?_c('div',{staticClass:\"mt-20\"},[_c('button',{staticClass:\"btn role-tertiary add\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.addRule}},[_c('t',{attrs:{\"k\":\"workload.scheduling.affinity.matchExpressions.addRule\"}})],1)]):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { NODE, POD } from '@shell/config/types';\nimport Select from '@shell/components/form/Select';\nimport { mapGetters } from 'vuex';\nimport { isArray, removeObject } from '@shell/utils/array';\nimport { clone } from '@shell/utils/object';\nimport { convert, simplify } from '@shell/utils/selector';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\n\nexport default {\n  components: { Select, LabeledSelect },\n  props:      {\n    // Array of actual match expressions\n    // or k8s selector Object of {matchExpressions, matchLabels}\n    value: {\n      type:    [Array, Object],\n      default: () => []\n    },\n\n    // CRU mode\n    mode: {\n      type:    String,\n      default: 'edit'\n    },\n\n    // pod/node affinity types have different operator options\n    type: {\n      type:    String,\n      default: NODE\n    },\n\n    // whether or not to show an initial empty row of inputs when value is empty in editing modes\n    initialEmptyRow: {\n      type:    Boolean,\n      default: false,\n    },\n\n    // whether or not to show add rule button at bottom\n    showAddButton: {\n      type:    Boolean,\n      default: true\n    },\n\n    // whether or not to show remove rule button right side of the rule\n    showRemoveButton: {\n      type:    Boolean,\n      default: true\n    },\n\n    // whether or not to show remove button in upper right\n    showRemove: {\n      type:    Boolean,\n      default: true\n    },\n\n    // if options are passed for keys, then the key's input will become a select\n    keysSelectOptions: {\n      type:    Array,\n      default: () => []\n    }\n  },\n\n  data() {\n    const t = this.$store.getters['i18n/t'];\n\n    const podOptions = [\n      { label: t('workload.scheduling.affinity.matchExpressions.in'), value: 'In' },\n      { label: t('workload.scheduling.affinity.matchExpressions.notIn'), value: 'NotIn' },\n      { label: t('workload.scheduling.affinity.matchExpressions.exists'), value: 'Exists' },\n      { label: t('workload.scheduling.affinity.matchExpressions.doesNotExist'), value: 'DoesNotExist' },\n    ];\n\n    const nodeOptions = [\n      { label: t('workload.scheduling.affinity.matchExpressions.in'), value: 'In' },\n      { label: t('workload.scheduling.affinity.matchExpressions.notIn'), value: 'NotIn' },\n      { label: t('workload.scheduling.affinity.matchExpressions.exists'), value: 'Exists' },\n      { label: t('workload.scheduling.affinity.matchExpressions.doesNotExist'), value: 'DoesNotExist' },\n      { label: t('workload.scheduling.affinity.matchExpressions.lessThan'), value: 'Lt' },\n      { label: t('workload.scheduling.affinity.matchExpressions.greaterThan'), value: 'Gt' },\n    ];\n\n    const ops = this.type === NODE ? nodeOptions : podOptions;\n\n    let rules;\n\n    if ( isArray(this.value) ) {\n      rules = [...this.value];\n    } else {\n      rules = convert(this.value.matchLabels, this.value.matchExpressions);\n    }\n\n    rules = rules.map((rule) => {\n      const newRule = clone(rule);\n\n      if (newRule.values && typeof newRule.values !== 'string') {\n        newRule.values = newRule.values.join(', ');\n      }\n\n      return newRule;\n    });\n\n    if (!rules.length && this.initialEmptyRow && !this.isView) {\n      rules.push({\n        key:      '',\n        operator: 'In',\n        values:   ''\n      });\n    }\n\n    return {\n      ops,\n      rules,\n      custom: []\n    };\n  },\n\n  computed: {\n    isView() {\n      return this.mode === 'view';\n    },\n\n    node() {\n      return NODE;\n    },\n\n    pod() {\n      return POD;\n    },\n\n    hasKeySelectOptions() {\n      return !!this.keysSelectOptions?.length;\n    },\n\n    ...mapGetters({ t: 'i18n/t' })\n  },\n\n  methods: {\n    removeRule(row) {\n      removeObject(this.rules, row);\n      this.update();\n    },\n\n    addRule() {\n      this.rules.push({\n        key:      '',\n        operator: 'In',\n        values:   ''\n      });\n    },\n\n    update() {\n      this.$nextTick(() => {\n        const out = this.rules.map((rule) => {\n          const matchExpression = { key: rule.key, operator: rule.operator };\n          let val = (rule.values || '').trim();\n\n          if ( rule.operator === 'Exists' || rule.operator === 'DoesNotExist') {\n            val = null;\n          } else if (!val) {\n            return;\n          }\n\n          if ( val !== null ) {\n            matchExpression.values = val.split(/\\s*,\\s*/).filter(x => !!x);\n          }\n\n          return matchExpression;\n        }).filter(x => !!x);\n\n        if ( isArray(this.value) ) {\n          this.$emit('input', out);\n        } else {\n          this.$emit('input', simplify(out));\n        }\n      });\n    }\n  }\n};\n</script>\n\n<template>\n  <div>\n    <button\n      v-if=\"showRemove && !isView\"\n      type=\"button\"\n      class=\"btn role-link remove-expression\"\n      @click=\"$emit('remove')\"\n    >\n      <i class=\"icon icon-x\" />\n    </button>\n\n    <div\n      v-if=\"rules.length\"\n      class=\"match-expression-header\"\n      :class=\"{'view':isView}\"\n    >\n      <label>\n        {{ t('workload.scheduling.affinity.matchExpressions.key') }}\n      </label>\n      <label>\n        {{ t('workload.scheduling.affinity.matchExpressions.operator') }}\n      </label>\n      <label>\n        {{ t('workload.scheduling.affinity.matchExpressions.value') }}\n      </label>\n      <span />\n    </div>\n    <div\n      v-for=\"(row, index) in rules\"\n      :key=\"row.id\"\n      class=\"match-expression-row\"\n      :class=\"{'view':isView, 'mb-10': index !== rules.length - 1}\"\n    >\n      <div\n        :data-testid=\"`input-match-expression-key-${index}`\"\n      >\n        <div v-if=\"isView\">\n          {{ row.key }}\n        </div>\n        <input\n          v-else-if=\"!hasKeySelectOptions\"\n          v-model=\"row.key\"\n          :mode=\"mode\"\n          @input=\"update\"\n        >\n        <LabeledSelect\n          v-else\n          v-model=\"row.key\"\n          :mode=\"mode\"\n          :options=\"keysSelectOptions\"\n        />\n      </div>\n      <div\n        :data-testid=\"`input-match-expression-operator-${index}`\"\n      >\n        <div v-if=\"isView\">\n          {{ row.operator }}\n        </div>\n        <Select\n          v-else\n          v-model=\"row.operator\"\n          class=\"operator single\"\n          :options=\"ops\"\n          :clearable=\"false\"\n          :reduce=\"opt=>opt.value\"\n          :mode=\"mode\"\n          @input=\"update\"\n        />\n      </div>\n\n      <div\n        v-if=\"row.operator==='Exists' || row.operator==='DoesNotExist'\"\n        class=\"no-value\"\n      >\n        <label class=\"text-muted\">&hellip;</label>\n      </div>\n      <div\n        v-else\n        :data-testid=\"`input-match-expression-values-${index}`\"\n      >\n        <div v-if=\"isView\">\n          {{ row.values }}\n        </div>\n        <input\n          v-else\n          v-model=\"row.values\"\n          :mode=\"mode\"\n          :disabled=\"row.operator==='Exists' || row.operator==='DoesNotExist'\"\n          @input=\"update\"\n        >\n      </div>\n      <div\n        v-if=\"showRemoveButton\"\n        class=\"remove-container\"\n      >\n        <button\n          v-if=\"!isView\"\n          type=\"button\"\n          class=\"btn role-link\"\n          :style=\"{padding:'0px'}\"\n\n          :disabled=\"mode==='view'\"\n          @click=\"removeRule(row)\"\n        >\n          <t k=\"generic.remove\" />\n        </button>\n      </div>\n    </div>\n    <div\n      v-if=\"!isView && showAddButton\"\n      class=\"mt-20\"\n    >\n      <button\n        type=\"button\"\n        class=\"btn role-tertiary add\"\n        @click=\"addRule\"\n      >\n        <t k=\"workload.scheduling.affinity.matchExpressions.addRule\" />\n      </button>\n    </div>\n  </div>\n</template>\n\n<style lang='scss' scoped>\n  $separator: 20;\n  $remove: 75;\n  $spacing: 10px;\n\n  .operator {\n    & .vs__dropdown-option{\n      padding: 3px 6px 3px 6px !important\n    }\n  }\n\n  .remove-expression {\n    padding:  8px;\n    position: absolute;\n    margin-bottom:10px;\n    right: 0px;\n    top: 0px;\n    z-index: z-index('overContent');\n\n    i {\n      font-size:2em;\n    }\n  }\n\n  .remove-container {\n    display: flex;\n    justify-content: center;\n  }\n\n  .match-expression-row, .match-expression-header {\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr;\n    margin: 5px 0;\n    grid-gap: $column-gutter;\n\n    & > LABEL {\n      margin: 0;\n    }\n\n    &:not(.view){\n      grid-template-columns: repeat(3, 1fr) 50px;\n    }\n  }\n</style>\n","import mod from \"-!../../../../cache-loader/dist/cjs.js??ref--14-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--2-0!../../../../@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MatchExpressions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../cache-loader/dist/cjs.js??ref--14-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--2-0!../../../../@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MatchExpressions.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MatchExpressions.vue?vue&type=template&id=271bf5ac&scoped=true&\"\nimport script from \"./MatchExpressions.vue?vue&type=script&lang=js&\"\nexport * from \"./MatchExpressions.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MatchExpressions.vue?vue&type=style&index=0&id=271bf5ac&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"271bf5ac\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../cache-loader/dist/cjs.js??ref--2-0!../../../../@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Select.vue?vue&type=style&index=0&id=172cf618&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../cache-loader/dist/cjs.js??ref--2-0!../../../../@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MatchExpressions.vue?vue&type=style&index=0&id=271bf5ac&prod&lang=scss&scoped=true&\""],"sourceRoot":""}