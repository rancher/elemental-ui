(("undefined"!==typeof self?self:this)["webpackJsonpelemental_1_0_1"]=("undefined"!==typeof self?self:this)["webpackJsonpelemental_1_0_1"]||[]).push([[6],{"18b3":function(e,t,a){var s=a("3edb");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var o=a("0ed3").default;o("d1039a00",s,!0,{sourceMap:!1,shadowMode:!1})},2672:function(e,t,a){var s=a("68f9");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var o=a("0ed3").default;o("e36df586",s,!0,{sourceMap:!1,shadowMode:!1})},2879:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return d}));var s=a("bddd");const o={},l={"=":"In","==":"In","!=":"NotIn","<":"Lt",">":"Gt"};function i(e){if(e=e.replace(/\+/g," "),o[e])return o[e];let t;const a=[],s=[];if(t=e.match(/\([^)]+\)/g),t&&t.length)for(const o of t){const t=o.replace(/^\s*\(\s*/,"").replace(/\s*\)\s*$/,"").split(/\s*,\s*/);s.push(t),e=e.replace(o,` @${s.length-1} `)}const i=e.split(/\s*,\s*/).filter(e=>!!e);for(let o of i)o=o.trim(),t=o.match(/^(.*?)\s+((not\s*)?in)\s+@(\d+)*$/i),t?a.push({key:t[1].trim(),operator:"notin"===t[2].toLowerCase().replace(/\s/g,"")?"NotIn":"In",values:s[t[4].trim()]}):(t=o.match(/^([^!=]*)\s*(\!=|=|==|>|<)\s*([^!=]*)$/),t?a.push({key:t[1].trim(),operator:l[t[2]],values:[t[3].trim()]}):o.startsWith("!")?a.push({key:o.substr(1).trim(),operator:"DoesNotExist"}):a.push({key:o.trim(),operator:"Exists"}));return o[e]=a,a}function n(e,t){const a=Object.keys(e||{}),o=t||[];for(const l of a){const t=e[l],a=Object(s["e"])(o,{key:l,operator:"In"});a?Object(s["a"])(a.values,t):o.push({key:l,operator:"In",values:[t]})}return o}function r(e){const t={},a=[],o=[],l={};for(const i of e)"In"===i.operator&&(l[i.key]?Object(s["a"])(o,i.key):l[i.key]=!0);for(const s of e)"In"!==s.operator||1!==s.values.length||o.includes(s.key)?a.push(Object.assign({},s)):t[s.key]=s.values[0];return{matchLabels:t,matchExpressions:a}}function c(e,t){var a;let o=[];if("string"===typeof t)o=i(t);else if(Object(s["g"])(t))o=t;else{if("object"!==typeof t||!t)return!1;o=n(t)}const l=(null===e||void 0===e||null===(a=e.metadata)||void 0===a?void 0:a.labels)||{};for(const s of o){const e=l[s.key],t=parseInt(e,10),a="undefined"!==typeof l[s.key];switch(s.operator){case"Exists":if(!a)return!1;break;case"DoesNotExist":if(a)return!1;break;case"In":if(!e||!s.values.length||!s.values.includes(e))return!1;break;case"NotIn":if(s.values.includes(e))return!1;break;case"Lt":if(isNaN(t)||t>=Math.min.apply(null,s.values))return!1;break;case"Gt":if(isNaN(t)||t<=Math.max.apply(null,s.values))return!1;break}}return!0}function d(e,t){return e.filter(e=>c(e,t))}},"305c":function(e,t,a){"use strict";var s=a("da25"),o=a("8bbf"),l=a.n(o),i=a("cd6d");t["a"]=l.a.extend({...i["a"],props:{mode:{type:String,default:s["l"]},realMode:{type:String,default:s["l"]},as:{type:String,default:s["t"]},value:{type:Object,required:!0},initialValue:{type:Object,default:null},liveValue:{type:Object,default:null},doneEvent:{type:Boolean,default:!1}}})},"3edb":function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,'.clearfix[data-v-172cf618]:after,.clearfix[data-v-172cf618]:before{content:" ";display:table}.clearfix[data-v-172cf618]:after{clear:both}.list-unstyled[data-v-172cf618]{margin:0;padding:0;list-style-type:none}.no-select[data-v-172cf618]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-172cf618]{resize:none}.hand[data-v-172cf618]{cursor:pointer;cursor:hand}.fixed[data-v-172cf618]{table-layout:fixed}.clip[data-v-172cf618]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-172cf618],.force-wrap[data-v-172cf618]{word-wrap:break-word}.force-wrap[data-v-172cf618]{white-space:normal}.bordered-section[data-v-172cf618]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-172cf618]{margin-bottom:20px;margin-top:20px}.unlabeled-select[data-v-172cf618]{position:relative}.unlabeled-select[data-v-172cf618]  .v-select.select-input-view .vs__actions{visibility:hidden}.unlabeled-select .vs--multiple[data-v-172cf618]  .vs__selected-options .vs__selected{width:auto}.unlabeled-select[data-v-172cf618]  .labeled-tooltip.error .status-icon{top:7px;right:2px}.unlabeled-select[data-v-172cf618]  .vs__selected-options{display:flex;margin:3px}.unlabeled-select[data-v-172cf618]  .vs__selected-options .vs__selected{width:auto}.unlabeled-select[data-v-172cf618]  .v-select.vs--open .vs__dropdown-toggle{color:var(--outline)!important}.unlabeled-select.focused.success[data-v-172cf618],.unlabeled-select.success[data-v-172cf618]{border:solid 1px var(--success)}.unlabeled-select.focused.success .selected[data-v-172cf618],.unlabeled-select.focused.success .vs__actions[data-v-172cf618]:after,.unlabeled-select.focused.success input[data-v-172cf618],.unlabeled-select.success .selected[data-v-172cf618],.unlabeled-select.success .vs__actions[data-v-172cf618]:after,.unlabeled-select.success input[data-v-172cf618]{color:var(--success)}.unlabeled-select.focused.warning[data-v-172cf618],.unlabeled-select.warning[data-v-172cf618]{border:solid 1px var(--warning)}.unlabeled-select.focused.warning .selected[data-v-172cf618],.unlabeled-select.focused.warning .vs__actions[data-v-172cf618]:after,.unlabeled-select.focused.warning input[data-v-172cf618],.unlabeled-select.warning .selected[data-v-172cf618],.unlabeled-select.warning .vs__actions[data-v-172cf618]:after,.unlabeled-select.warning input[data-v-172cf618]{color:var(--warning)}.unlabeled-select.error[data-v-172cf618],.unlabeled-select.focused.error[data-v-172cf618]{border:solid 1px var(--error)}.unlabeled-select.error .vs__actions[data-v-172cf618]:after,.unlabeled-select.error>label[data-v-172cf618],.unlabeled-select.focused.error .vs__actions[data-v-172cf618]:after,.unlabeled-select.focused.error>label[data-v-172cf618]{color:var(--error)}',""]),e.exports=t},"47ab":function(e,t,a){"use strict";var s=function(){var e,t=this,a=t.$createElement,s=t._self._c||a;return s("div",{ref:"select",staticClass:"unlabeled-select",class:(e={disabled:t.disabled&&!t.isView,focused:t.focused},e[t.mode]=!0,e[t.status]=t.status,e.taggable=t.$attrs.taggable,e.taggable=t.$attrs.multiple,e),on:{focus:t.focusSearch}},[s("v-select",t._g(t._b({ref:"select-input",staticClass:"inline",class:{"select-input-view":"view"===t.mode},attrs:{autoscroll:!0,"append-to-body":t.appendToBody,"calculate-position":t.positionDropdown,disabled:t.isView||t.disabled,"get-option-key":function(e){return t.getOptionKey(e)},"get-option-label":function(e){return t.getOptionLabel(e)},label:t.optionLabel,options:t.options,"close-on-select":t.closeOnSelect,"map-keydown":t.mappedKeys,placeholder:t.placeholder,reduce:function(e){return t.reduce(e)},searchable:t.isSearchable,selectable:t.selectable,value:null!=t.value?t.value:""},on:{"search:blur":t.onBlur,"search:focus":t.onFocus,open:t.resizeHandler,"option:created":function(e){return t.$emit("createdListItem",e)}},scopedSlots:t._u([{key:"option",fn:function(e){return[s("div",{on:{mousedown:function(a){return t.onClickOption(e,a)}}},[t._v(" "+t._s(e.label)+" ")])]}},t._l(t.$scopedSlots,(function(e,a){return{key:a,fn:function(e){return[t._t(a,null,null,e)]}}}))],null,!0)},"v-select",t.$attrs,!1),t.$listeners)),t.tooltip&&!t.focused?s("LabeledTooltip",{attrs:{hover:t.hoverTooltip,value:t.tooltip,status:t.status}}):t._e(),t.validationMessage?s("LabeledTooltip",{attrs:{hover:t.hoverTooltip,value:t.validationMessage}}):t._e()],1)},o=[],l=a("e24b"),i=a("480e"),n=a("9f16"),r=a("d174"),c=a("e8f0"),d={components:{LabeledTooltip:r["a"]},mixins:[i["a"],n["a"]],props:{appendToBody:{default:!0,type:Boolean},disabled:{default:!1,type:Boolean},getKeyForOption:{default:null,type:Function},mode:{default:"edit",type:String},optionKey:{default:null,type:String},optionLabel:{default:"label",type:String},placement:{default:null,type:String},placeholder:{type:String,default:""},popperOverride:{type:Function,default:null},reduce:{default:e=>e&&"object"===typeof e&&void 0!==e.value?e.value:e,type:Function},tooltip:{type:String,default:null},hoverTooltip:{type:Boolean,default:!0},status:{type:String,default:null},value:{default:null,type:[String,Object,Number,Array,Boolean]},closeOnSelect:{type:Boolean,default:!0}},methods:{getOptionLabel(e){return this.$attrs["get-option-label"]?this.$attrs["get-option-label"](e):Object(l["g"])(e,this.optionLabel)?this.localizedLabel?this.$store.getters["i18n/t"](Object(l["g"])(e,this.optionLabel)):Object(l["g"])(e,this.optionLabel):e},positionDropdown(e,t,{width:a}){if(this.popperOverride)return this.popperOverride(e,t,{width:a});Object(c["a"])(e,t,a,this.placement)},focus(){this.focusSearch()},focusSearch(){this.$nextTick(()=>{var e;const t=null===(e=this.$refs["select-input"])||void 0===e?void 0:e.searchEl;t&&t.focus()})},get:l["g"],onClickOption(e,t){c["b"].call(this,e,t)},selectable(e){return!e||!e.disabled&&"group"!==e.kind&&"divider"!==e.kind&&!e.loading},getOptionKey(e){if(null!==e&&void 0!==e&&e.optionKey)return Object(l["g"])(e,e.optionKey);const t=this.getOptionLabel(e);return"string"===typeof t||"number"===typeof t?t:Math.random(1e5)},report(e){alert(e)}},computed:{requiredField(){return this.required||this.rules.some(e=>"required"===(null===e||void 0===e?void 0:e.name))},validationMessage(){const e=this.rules.find(e=>"required"===(null===e||void 0===e?void 0:e.name)),t=[],a=null===this||void 0===this?void 0:this.value;if(e&&this.blurred&&!this.focused){const t=e(a);if(t)return t}for(const s of this.rules){const e=s(a);e&&"required"!==s.name&&t.push(e)}return t.length>0&&(this.blurred||this.focused)?t.join(", "):void 0}}},u=d,p=(a("c94f"),a("d802")),f=Object(p["a"])(u,s,o,!1,null,"172cf618",null);t["a"]=f.exports},"68f9":function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,'.clearfix[data-v-12c9124a]:after,.clearfix[data-v-12c9124a]:before{content:" ";display:table}.clearfix[data-v-12c9124a]:after{clear:both}.list-unstyled[data-v-12c9124a]{margin:0;padding:0;list-style-type:none}.no-select[data-v-12c9124a]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-12c9124a]{resize:none}.hand[data-v-12c9124a]{cursor:pointer;cursor:hand}.fixed[data-v-12c9124a]{table-layout:fixed}.clip[data-v-12c9124a]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-12c9124a],.force-wrap[data-v-12c9124a]{word-wrap:break-word}.force-wrap[data-v-12c9124a]{white-space:normal}.bordered-section[data-v-12c9124a]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-12c9124a]{margin-bottom:20px;margin-top:20px}.operator .vs__dropdown-option[data-v-12c9124a]{padding:3px 6px 3px 6px!important}.remove-expression[data-v-12c9124a]{padding:8px;position:absolute;margin-bottom:10px;right:0;top:0;z-index:2}.remove-expression i[data-v-12c9124a]{font-size:2em}.remove-container[data-v-12c9124a]{display:flex;justify-content:center}.match-expression-header[data-v-12c9124a],.match-expression-row[data-v-12c9124a]{display:grid;grid-template-columns:1fr 1fr 1fr;margin:5px 0;grid-gap:10px}.match-expression-header>LABEL[data-v-12c9124a],.match-expression-row>LABEL[data-v-12c9124a]{margin:0}.match-expression-header[data-v-12c9124a]:not(.view),.match-expression-row[data-v-12c9124a]:not(.view){grid-template-columns:1fr 1fr 1fr 100px}',""]),e.exports=t},"711b":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.showRemove&&!e.isView?a("button",{staticClass:"btn role-link remove-expression",attrs:{type:"button"},on:{click:function(t){return e.$emit("remove")}}},[a("i",{staticClass:"icon icon-x"})]):e._e(),e.rules.length?a("div",{staticClass:"match-expression-header",class:{view:e.isView}},[a("label",[e._v(" "+e._s(e.t("workload.scheduling.affinity.matchExpressions.key"))+" ")]),a("label",[e._v(" "+e._s(e.t("workload.scheduling.affinity.matchExpressions.operator"))+" ")]),a("label",[e._v(" "+e._s(e.t("workload.scheduling.affinity.matchExpressions.value"))+" ")]),a("span")]):e._e(),e._l(e.rules,(function(t,s){return a("div",{key:t.id,staticClass:"match-expression-row",class:{view:e.isView,"mb-10":s!==e.rules.length-1}},[a("div",{attrs:{"data-testid":"input-match-expression-key-"+s}},[e.isView?a("div",[e._v(" "+e._s(t.key)+" ")]):e.hasKeySelectOptions?a("LabeledSelect",{attrs:{mode:e.mode,options:e.keysSelectOptions},model:{value:t.key,callback:function(a){e.$set(t,"key",a)},expression:"row.key"}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.key,expression:"row.key"}],attrs:{mode:e.mode},domProps:{value:t.key},on:{input:[function(a){a.target.composing||e.$set(t,"key",a.target.value)},e.update]}})],1),a("div",{attrs:{"data-testid":"input-match-expression-operator-"+s}},[e.isView?a("div",[e._v(" "+e._s(t.operator)+" ")]):a("Select",{staticClass:"operator single",attrs:{options:e.ops,clearable:!1,reduce:function(e){return e.value},mode:e.mode},on:{input:e.update},model:{value:t.operator,callback:function(a){e.$set(t,"operator",a)},expression:"row.operator"}})],1),"Exists"===t.operator||"DoesNotExist"===t.operator?a("div",{staticClass:"no-value"},[a("label",{staticClass:"text-muted"},[e._v("â€¦")])]):a("div",{attrs:{"data-testid":"input-match-expression-values-"+s}},[e.isView?a("div",[e._v(" "+e._s(t.values)+" ")]):a("input",{directives:[{name:"model",rawName:"v-model",value:t.values,expression:"row.values"}],attrs:{mode:e.mode,disabled:"Exists"===t.operator||"DoesNotExist"===t.operator},domProps:{value:t.values},on:{input:[function(a){a.target.composing||e.$set(t,"values",a.target.value)},e.update]}})]),a("div",{staticClass:"remove-container"},[e.isView?e._e():a("button",{staticClass:"btn role-link",style:{padding:"0px"},attrs:{type:"button",disabled:"view"===e.mode},on:{click:function(a){return e.removeRule(t)}}},[a("t",{attrs:{k:"generic.remove"}})],1)])])})),e.isView?e._e():a("div",{staticClass:"mt-20"},[a("button",{staticClass:"btn role-tertiary add",attrs:{type:"button"},on:{click:e.addRule}},[a("t",{attrs:{k:"workload.scheduling.affinity.matchExpressions.addRule"}})],1)])],2)},o=[],l=a("907c"),i=a("47ab"),n=a("9ce4"),r=a("bddd"),c=a("e24b"),d=a("2879"),u=a("466b"),p={components:{Select:i["a"],LabeledSelect:u["a"]},props:{value:{type:[Array,Object],default:()=>[]},mode:{type:String,default:"edit"},type:{type:String,default:l["p"]},initialEmptyRow:{type:Boolean,default:!1},showRemove:{type:Boolean,default:!0},keysSelectOptions:{type:Array,default:()=>[]}},data(){const e=this.$store.getters["i18n/t"],t=[{label:e("workload.scheduling.affinity.matchExpressions.in"),value:"In"},{label:e("workload.scheduling.affinity.matchExpressions.notIn"),value:"NotIn"},{label:e("workload.scheduling.affinity.matchExpressions.exists"),value:"Exists"},{label:e("workload.scheduling.affinity.matchExpressions.doesNotExist"),value:"DoesNotExist"}],a=[{label:e("workload.scheduling.affinity.matchExpressions.in"),value:"In"},{label:e("workload.scheduling.affinity.matchExpressions.notIn"),value:"NotIn"},{label:e("workload.scheduling.affinity.matchExpressions.exists"),value:"Exists"},{label:e("workload.scheduling.affinity.matchExpressions.doesNotExist"),value:"DoesNotExist"},{label:e("workload.scheduling.affinity.matchExpressions.lessThan"),value:"Lt"},{label:e("workload.scheduling.affinity.matchExpressions.greaterThan"),value:"Gt"}],s=this.type===l["p"]?a:t;let o;return o=Object(r["g"])(this.value)?[...this.value]:Object(d["a"])(this.value.matchLabels,this.value.matchExpressions),o=o.map(e=>{const t=Object(c["e"])(e);return t.values&&"string"!==typeof t.values&&(t.values=t.values.join(", ")),t}),o.length||!this.initialEmptyRow||this.isView||o.push({key:"",operator:"In",values:""}),{ops:s,rules:o,custom:[]}},computed:{isView(){return"view"===this.mode},node(){return l["p"]},pod(){return l["r"]},hasKeySelectOptions(){var e;return!(null===(e=this.keysSelectOptions)||void 0===e||!e.length)},...Object(n["a"])({t:"i18n/t"})},methods:{removeRule(e){Object(r["i"])(this.rules,e),this.update()},addRule(){this.rules.push({key:"",operator:"In",values:""})},update(){this.$nextTick(()=>{const e=this.rules.map(e=>{const t={key:e.key,operator:e.operator};let a=(e.values||"").trim();if("Exists"===e.operator||"DoesNotExist"===e.operator)a=null;else if(!a)return;return null!==a&&(t.values=a.split(/\s*,\s*/).filter(e=>!!e)),t}).filter(e=>!!e);Object(r["g"])(this.value)?this.$emit("input",e):this.$emit("input",Object(d["c"])(e))})}}},f=p,v=(a("e09a"),a("d802")),b=Object(v["a"])(f,s,o,!1,null,"12c9124a",null);t["a"]=b.exports},c94f:function(e,t,a){"use strict";a("18b3")},e09a:function(e,t,a){"use strict";a("2672")}}]);
//# sourceMappingURL=elemental-1.0.1.umd.min.vendors~machine-config.js.map